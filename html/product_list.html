<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1,minimum-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="stylesheet" href="../css/utils.css"/>
    <link rel="stylesheet" href="../css/style.css">
    <title>商品列表</title>
    <style>

    </style>
</head>

<body>
<div class="product-list">
    <div class="show-img">
        <img src="../img/商品展示大图.png" width="100%" height="100%">
        <div class="show-bottom ">
            <div class=" show-name space-no2">
                <div class="show-img-img">
                    <img src="../img/other/showimg.png" alt="">
                </div>
                <div class="show-img-font">
                    <p class="name">登瀛楼</p>
                    <p class="zuan">
                        <span class="z"></span>
                        <span class="z"></span>
                        <span class="z"></span>
                        <span class="z"></span>
                        <span class="z"></span>
                    </p>
                    <p class="jieshao ">公告：做餐饮我们是认真的，中高端餐饮只有…</p>
                </div>
            </div>
        </div>

    </div>
    <div class="massage">
        <div class="massgge-1">
            <p><span class="sucsse">首</span><span>新用户首次下单立减300元</span></p>
            <p><span>6个活动</span><span>▲</span></p>
        </div>
        <p class="massgge-2"><span class="massgge-2-1">商品</span>    </span><span class="massgge-2-2">评价：9.9分</span></p>
    </div>
    <div class="set-meal">
        <ul>
            <p>套餐</p>
            <li>凉菜凉菜</li>
            <li>热菜</li>
        </ul>
        <div class="set-meal-warp">
            <p class="set-meal-warp-1">套餐</p>
            <ul>
                <li>
                    <img src="../img/other/listbackground.png" alt="" width="70" height="70">
                    <div class="menu-warp1">
                        <p style="font-size:14px;color:#333333;">精选米饭套餐</p>
                        <p class="menu"
                           style="max-width:80%; white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
                            精品烤鸭、老城水爆肚、芥末鸭掌 </p>
                        <p style="font-size:11px;color:#666;">销量18</p>
                        <div>
                            <p style="font-size: 12px;display: inline-block;">￥<span
                                    style="font-size: 14px">290.00</span></p>
                            <p class="number-car  f-right">
                                <span class="cut"></span>
                                <span class="l-b"
                                      style="height: 20px;width: 20px;text-align: center;font-size: 14px;line-height: 20px;">0</span>
                                <span class="add "></span>
                            </p>

                        </div>
                    </div>

                </li>
                <li>
                    <img src="../img/other/listbackground.png" alt="" width="70" height="70">
                    <div class="menu-warp1">
                        <p style="font-size:14px;color:#333333;">精选米饭套餐</p>
                        <p class="menu" style=" white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
                            精品烤鸭、老城水爆肚、芥末鸭掌 </p>
                        <p style="font-size:11px;color:#666;">销量18</p>
                        <div>
                            <p style="font-size: 12px;display: inline-block;">￥<span
                                    style="font-size: 14px">290.00</span></p>
                            <p class="number-car  f-right">
                                <span class="cut"></span>
                                <span class="l-b"
                                      style="height: 20px;width: 20px;text-align: center;font-size: 14px;line-height: 20px;">0</span>
                                <span class="add"></span>
                            </p>

                        </div>
                    </div>

                </li>
                <li>
                    <img src="../img/other/listbackground.png" alt="" width="70" height="70">
                    <div class="menu-warp1">
                        <p style="font-size:14px;color:#333333;">精选米饭套餐</p>
                        <p class="menu" style=" white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
                            精品烤鸭、老城水爆肚、芥末鸭掌 </p>
                        <p style="font-size:11px;color:#666;">销量18</p>
                        <div>
                            <p style="font-size: 12px;display: inline-block;color:#c9ac51;">￥<span
                                    style="font-size: 14px">290.00</span></p>
                            <p class="number-car  f-right">
                                <span class="cut"></span>
                                <span class="l-b"
                                      style="height: 20px;width: 20px;text-align: center;font-size: 14px;line-height: 20px;">0</span>
                                <span class="add"></span>
                            </p>

                        </div>
                    </div>

                </li>
            </ul>
        </div>
    </div>

</div>
<div style="height:50px;"></div>
<div class="product-list-footer">
    <div class="footer-l">
        <div class="car l-b">
            <span class=" wam l-b" style="">0</span>
        </div>
        <div class="color-w">
            总计:￥300
        </div>
    </div>
    <div class="footer-r" style="text-align: center;">还差200起送</div>
</div>
<script src="../js/jquery-3.3.1.js" charset="utf-8"></script>
<script>
    $(function () {
        var span = "<span></span>";



        var carIndex=0;
        $(".add").click(function () {
            carIndex++;
            //获取对象
            var th = $(this);
            th.append(span);
            var p1 = [];
            //【添加购物车
            var x_car = $(".car").offset().left;
            var y_car = $(".car").offset().top;
            p1.push(x_car+30, y_car);
            //存放car位置
            var p2 = [];
            var x = $(this).offset().left;
            var y = $(this).offset().top;
            p2.push(x, y);
            //定义参数
            var Xv, Yv, t, v, a = 5;
            t = Math.sqrt((p1[1] - p2[1]) / a / 2);

            v = (p2[0] - p1[0]) / t;
            var i = 0;
            var T = setInterval(function () {
                Xv = i * v * 0.5;
                Yv = a * i * i * 2 * 0.25;
                i++;
                if (Yv>p1[1] - p2[1]) {
                    clearInterval(T);
                    th.children("span").eq(0).remove();

                   console.log(Xv > p2[0] - p1[0])
                } else {
                    th.children("span").eq(0).css({
                        background: "#FF0000",
                        transform: "translate(" + -Xv + "px," + Yv + "px)"});
                    th.siblings(".l-b").text(carIndex);
                    $(".product-list-footer .wam").text(carIndex);
                }
            }, 30);

        })
    })
</script>
</body>

</html>
